import { AuthUser, User } from 'types/user';

export const API_URL = 'http://185.241.195.151/api/';

export const movies = [
  {
    id: 1,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 2,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 3,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 4,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 5,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 6,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 7,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 8,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
  {
    id: 9,
    title: 'Movie 1',
    description: '',
    cardImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    albumImage:
      'https://img.utorrentfilmi.fun/uploads/posts/2024-06/1719383380_i5rnp.jpg',
    rating: 7.6,
    releaseDate: '2009-12-10T00:00:00Z',
    movieType: '',
    country: 'США',
  },
];

export const mockActor = {
  id: 1,
  name: 'Джеймс Гандольфини',
  career: 'Актер',
  birth_date: '18 сентября 1961',
  born_place: 'Вествуд, Нью-Джерси, США',
  genres: 'Драма, криминал, триллер',
  biography:
    'Джеймс Гандольфини — американский актёр, наиболее известный за роль Тони Сопрано, главы мафиозной «семьи», в сериале «Сопрано», за которую он был удостоен трёх премий «Эмми». Помимо телевизионных ролей, Гандольфини снимался в многочисленных фильмах, включая «Настоящая любовь», «Багровый прилив», «Достать коротышку», «Гражданский иск», «Последний замок», «Любовь и сигареты», «Там, где живут чудовища». Он также известен своими ролями на Бродвее в постановках «Трамвай „Желание“», «В порту» и «Бог резни». Джеймс Гандольфини — американский актёр, наиболее известный за роль Тони Сопрано, главы мафиозной «семьи», в сериале «Сопрано», за которую он был удостоен трёх премий «Эмми». Помимо телевизионных ролей, Гандольфини снимался в многочисленных фильмах, включая «Настоящая любовь», «Багровый прилив», «Достать коротышку», «Гражданский иск», «Последний замок», «Любовь и сигареты», «Там, где живут чудовища». Он также известен своими ролями на Бродвее в постановках «Трамвай „Желание“», «В порту» и «Бог резни». Джеймс Гандольфини — американский актёр, наиболее известный за роль Тони Сопрано, главы мафиозной «семьи», в сериале «Сопрано», за которую он был удостоен трёх премий «Эмми». Помимо телевизионных ролей, Гандольфини снимался в многочисленных фильмах, включая «Настоящая любовь», «Багровый прилив», «Достать коротышку», «Гражданский иск», «Последний замок», «Любовь и сигареты», «Там, где живут чудовища». Он также известен своими ролями на Бродвее в постановках «Трамвай „Желание“», «В порту» и «Бог резни».',
  image: 'assets/mockImages/gandolfini_actor_page.png',
  movies: movies,
};

export const CHAR_A_CODE = 65;
export const CHAR_Z_CODE = 90;
export const CHAR_a_CODE = 97;
export const CHAR_z_CODE = 122;
export const CHAR_0_CODE = 48;
export const CHAR_9_CODE = 57;

type ValidationInfo = {
  pass: boolean;
  errorMessage: string;
};

type PasswordValidationRules = {
  rules: {
    minLength: ValidationInfo;
    hasDigit: ValidationInfo;
  };

  reset: () => PasswordValidationRules;
};

export const passwordValidationRules: PasswordValidationRules = {
  rules: {
    minLength: {
      pass: false,
      errorMessage: 'Пароль должен содержать минимум 8 символов',
    },
    hasDigit: {
      pass: false,
      errorMessage: 'Пароль должен содержать хотя бы одну цифру',
    },
  },

  reset() {
    const fields = Object.values(this.rules) as ValidationInfo[];
    fields.forEach((field) => {
      field.pass = false;
    });
    return this;
  },
};

type LoginValidationRules = {
  rules: {
    minLength: ValidationInfo;
    maxLength: ValidationInfo;
    hasNoSpec: ValidationInfo;
  };
  reset: () => LoginValidationRules;
};

export const loginValidationRules: LoginValidationRules = {
  rules: {
    minLength: {
      pass: false,
      errorMessage: 'Логин должен содержать минимум 6 символов',
    },

    maxLength: {
      pass: false,
      errorMessage: 'Логин должен содержать максимум 24 символов',
    },

    hasNoSpec: {
      pass: false,
      errorMessage: 'Разрешены символы латинского алфавита, цифры и "."',
    },
  },

  reset() {
    const fields = Object.values(this.rules) as ValidationInfo[];
    fields.forEach((field) => {
      field.pass = false;
    });
    return this;
  },
};

export function setPagesConfig(
  user: User | undefined,
  renderMainPage: () => void,
  renderAuthPage: () => void,
  renderRegPage: () => void,
) {
  return {
    pages: {
      films: {
        text: 'Подборка фильмов',
        href: '/main',
        id: 'main-page-nav',
        render: renderMainPage,
        isAvailable: true,
      },
      login: {
        text: 'Авторизация',
        href: '/auth',
        id: 'login-page-nav',
        render: renderAuthPage,
        isAvailable: !user?.username,
      },
      signup: {
        text: 'Регистрация',
        href: '/register',
        id: 'signup-page-nav',

        render: renderRegPage,
        isAvailable: !user?.username,
      },
    },
  };
}
